<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../../static/css/StoreManager.css">
    <!--    <script src="https://cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>-->
    <script th:src="@{/static/js/jquery.min.js}"></script>
    <title>电商管理</title>
    <link rel="shortcut icon" href="../../static/img/favicon.icon" type="image/x-icon">
</head>
<body>
<div id="div1">
    <img src="../../static/img/adminPic.jfif" />
    <label id="username" th:text="${UserName}"></label>
    <div id="managerPer">
        <a id="managerPerA" href="/AdminInfo">个人信息</a><br><br><br>
    </div>
    <div id="managerUser">
        <a id="managerUserA" href="/UserManager">用户管理</a><br><br><br>
    </div>
    <div id="managerStore">
        <a id="managerStoreA" href="/StoreManager">电商管理</a><br><br><br>
    </div>
</div>
<div id="div2">
    <div id="div3">
        <div>
            <label id="QueryStoreName">电商名称：<input id="QueryStoreNameText" placeholder="全部" th:value="${store_name}"></label>

            <label id="QueryCity">所在城市：<select id="QueryCityText">
                <option value="" th:selected="${city == ''}">全部</option>
                <option value="成都" th:selected="${city == '成都'}">成都</option>
                <option value="澳门" th:selected="${city == '澳门'}">澳门</option>
                <option value="北京" th:selected="${city == '北京'}">北京</option>
                <option value="长春" th:selected="${city == '长春'}">长春</option>
                <option value="长沙" th:selected="${city == '长沙'}">长沙</option>
                <option value="重庆" th:selected="${city == '重庆'}">重庆</option>
                <option value="福州" th:selected="${city == '福州'}">福州</option>
                <option value="广州" th:selected="${city == '广州'}">广州</option>
                <option value="贵阳" th:selected="${city == '贵阳'}">贵阳</option>
                <option value="哈尔滨" th:selected="${city == '哈尔滨'}">哈尔滨</option>
                <option value="海口" th:selected="${city == '海口'}">海口</option>
                <option value="杭州" th:selected="${city == '杭州'}">杭州</option>
                <option value="合肥" th:selected="${city == '合肥'}">合肥</option>
                <option value="呼和浩特" th:selected="${city == '呼和浩特'}">呼和浩特</option>
                <option value="济南" th:selected="${city == '济南'}">济南</option>
                <option value="昆明" th:selected="${city == '昆明'}">昆明</option>
                <option value="兰州" th:selected="${city == '兰州'}">兰州</option>
                <option value="拉萨" th:selected="${city == '拉萨'}">拉萨</option>
                <option value="南昌" th:selected="${city == '南昌'}">南昌</option>
                <option value="南京" th:selected="${city == '南京'}">南京</option>
                <option value="南宁" th:selected="${city == '南宁'}">南宁</option>
                <option value="上海" th:selected="${city == '上海'}">上海</option>
                <option value="沈阳" th:selected="${city == '沈阳'}">沈阳</option>
                <option value="深圳" th:selected="${city == '深圳'}">深圳</option>
                <option value="石家庄" th:selected="${city == '石家庄'}">石家庄</option>
                <option value="台北" th:selected="${city == '台北'}">台北</option>
                <option value="太原" th:selected="${city == '太原'}">太原</option>
                <option value="天津" th:selected="${city == '天津'}">天津</option>
                <option value="武汉" th:selected="${city == '武汉'}">武汉</option>
                <option value="乌鲁木齐" th:selected="${city == '乌鲁木齐'}">乌鲁木齐</option>
                <option value="西安" th:selected="${city == '西安'}">西安</option>
                <option value="香港" th:selected="${city == '香港'}">香港</option>
                <option value="西宁" th:selected="${city == '西宁'}">西宁</option>
                <option value="银川" th:selected="${city == '银川'}">银川</option>
                <option value="郑州" th:selected="${city == '郑州'}">郑州</option>
            </select></label>

            <label id="QueryScope">经营范围：<select id="QueryScopeText">
                <option value="" th:selected="${business_scope == ''}">全部</option>
                <option value="数码电子" th:selected="${business_scope == '数码电子'}">数码电子</option>
                <option value="家居厨具" th:selected="${business_scope == '家居厨具'}">家居厨具</option>
                <option value="医疗保健" th:selected="${business_scope == '医疗保健'}">医疗保健</option>
                <option value="服装配饰" th:selected="${business_scope == '服装配饰'}">服装配饰</option>
                <option value="食品酒饮" th:selected="${business_scope == '食品酒饮'}">食品酒饮</option>
                <option value="美妆护肤" th:selected="${business_scope == '美妆护肤'}">美妆护肤</option>
                <option value="玩具乐器" th:selected="${business_scope == '玩具乐器'}">玩具乐器</option>
                <option value="图书文娱" th:selected="${business_scope == '图书文娱'}">图书文娱</option>
            </select></label>
            <label id="QueryPhone">客服热线：<input placeholder="全部" id="QueryPhoneText" th:value="${phone}"></label>
            <button id="QueryButton" onclick="Query()">查询</button>
            <button id="AddButton" onclick="window.location.href='/StoreManager/Add'">添加电商</button>
        </div>
        <div>
            <table id="Thead">
                <thead>
                <tr bgcolor="#FAFAFA" style="color: #252525">
                    <th>电商名称</th>
                    <th>所在城市</th>
                    <th>经度</th>
                    <th>纬度</th>
                    <th>客服电话</th>
                    <th>经营范围</th>
                    <th>销售情况</th>
                    <th>操作</th>
                </tr>
                </thead>
            </table>
        </div>
        <div style="position:absolute;overflow-y: scroll;width: 100%;height: 71%;top: 173px">
            <table id="Tbody">
                <tbody>
                <tr th:each="store:${StoreList}"
                    onmouseover="this.style.backgroundColor='#E6F7FF'" onmouseout="this.style.backgroundColor='#FFFFFF'">
                    <td align="center" th:text="${store.store_name}">SongYangSongYang</td>
                    <td align="center" th:text="${store.city}">22</td>
                    <td align="center" th:text="${store.lon}">男</td>
                    <td align="center" th:text="${store.lat}">11012345679</td>
                    <td align="center" th:text="${store.phone}">747566474@qq.com</td>
                    <td align="center" th:text="${store.business_scope}">就恢诡谲怪</td>
                    <td align="center">
                        <a style="color: #1890FF;text-decoration: none" th:href="@{'/StoreManager/Details/'+${store.id}}">查看详情</a>
                    </td>
                    <td align="center">
                        <a style="color: #1890FF;text-decoration: none" th:href="@{'/StoreManager/Update/'+${store.id}}">编辑</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <span style="position: absolute;top: 95%;left: 42%">第<label th:text="${page}"></label>页</span>
        <span style="position: absolute;top: 95%;left: 47%">跳转至
            <input id="index" style="width: 50px;text-align: center" oninput="value=value.replace(/^(0+)|[^\d]+/g,'')"> 页</span>
        <button onclick="Paging()" style="position: absolute;top: 95%;left: 58%" id="PageButton">跳转</button>
    </div>
</div>
<script>
    function Query() {
        const store_name = $('#QueryStoreNameText').val();
        const city = $('#QueryCityText').val();
        const scope = $('#QueryScopeText').val();
        const phone = $('#QueryPhoneText').val();
        window.location.href = "/StoreManager/QueryStore?store_name="+store_name+'&city='+city+'&business_scope='+scope+'&phone='+phone;
    }

    function Paging() {
        const index = $('#index').val();
        const store_name = $('#QueryStoreNameText').val();
        const city = $('#QueryCityText').val();
        const scope = $('#QueryScopeText').val();
        const phone = $('#QueryPhoneText').val();
        if (index==""){
            window.location.href = "/StoreManager/Paging?page="+1+'&store_name='+store_name+'&city='+city+'&business_scope='+scope+'&phone='+phone;
        }else{
            window.location.href = "/StoreManager/Paging?page="+index+'&store_name='+store_name+'&city='+city+'&business_scope='+scope+'&phone='+phone;
        }
    }
</script>
</body>
</html>